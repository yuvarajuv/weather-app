(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{155:function(e,t,a){},173:function(e,t,a){"use strict";a.r(t);var n=a(3),c=a(0),i=a.n(c),r=a(22),s=a.n(r),l=(a(89),a(12)),o=a(26),d=a(83),u=a(182),j=a(183),b=a(181),h="https://api.openweathermap.org/data/2.5",p="fa47458e6c6542be6687757543906375",O=["standard","metric","imperial"],x={standard:"\xb0K",metric:"\xb0C",imperial:"\xb0F"},m={standard:"meter/sec",metric:"meter/sec",imperial:"miles/hour"},g=13.0827,f=80.2707,v=function(e){var t=e.unit,a=e.setUnit,c=e.setCoordinates,i=e.initialValues;return Object(n.jsxs)(u.a,{bg:"info",variant:"dark",expand:"lg",children:[Object(n.jsx)(u.a.Brand,{className:"text-white",children:"Weather App"}),Object(n.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsxs)(u.a.Collapse,{id:"basic-navbar-nav",children:[Object(n.jsx)(j.a,{className:"mr-auto",children:Object(n.jsx)(b.a,{title:t,className:"text-capitalize",children:O.map((function(e){return Object(n.jsx)(b.a.Item,{active:e===t,onClick:function(){a(e)},children:e},e)}))})}),Object(n.jsx)(Y,{setCoordinates:c,initialValues:i})]})]})},w=a(24),N=a.n(w),y=a(33),C=a(11),I=a.n(C),k=a(79),S=a.n(k);function V(e){return D.apply(this,arguments)}function D(){return(D=Object(y.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get(t).then((function(e){return e.data}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=a(47),L=a.n(F),P=a(179),z=a(180),W=function(e){var t=e.data,a=e.unit,c=I()(t,"name"),i=I()(t,"dt"),r=I()(t,["weather","0"],{}),s=I()(r,"description"),l=I()(r,"icon"),o=I()(t,["main","temp"],"-"),d=I()(t,["main","pressure"],"-"),u=I()(t,["main","humidity"],"-"),j=I()(t,["wind","speed"],"-");return Object(n.jsxs)(P.a,{className:"weatherCard mt-4",children:[Object(n.jsxs)(z.a,{xs:12,md:12,children:[Object(n.jsx)("h1",{children:c}),Object(n.jsx)("div",{children:Object(n.jsx)("small",{children:L()(1e3*i).format("LLL")})}),Object(n.jsx)("div",{className:"text-capitalize",children:s})]}),Object(n.jsx)(z.a,{xs:12,md:6,children:Object(n.jsxs)("div",{className:"d-flex",children:[l&&Object(n.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(l,"@2x.png"),alt:"Weather Icon"}),Object(n.jsxs)("h3",{className:"align-self-center",children:[o,Object(n.jsx)("sup",{children:I()(x,[a],"")})]})]})}),Object(n.jsxs)(z.a,{xs:12,md:6,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:"Pressure: ".concat(d," ")}),Object(n.jsx)("small",{children:"hPa"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:"Humidity: ".concat(u," ")}),Object(n.jsx)("small",{children:"%"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:"Wind Speed: ".concat(j," ")}),Object(n.jsx)("small",{children:I()(m,[a],"")})]})]})]})},B=a(184),H=function(e){var t=e.data,a=e.unit;return Object(n.jsx)(P.a,{children:Object(n.jsxs)(z.a,{children:[Object(n.jsx)("hr",{}),Object(n.jsx)(B.a,{horizontal:"lg",children:t.map((function(e){var t=I()(e,"dt"),c=I()(e,["weather","0"],{}),i=I()(c,"icon"),r=I()(c,"description"),s=I()(e,["temp","max"],"-"),l=I()(e,["temp","min"],"-");return Object(n.jsxs)(B.a.Item,{className:"listItem",children:[Object(n.jsx)("div",{children:L()(1e3*t).format("dddd")}),i&&Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(i,"@2x.png"),alt:"Weather Icon"})}),Object(n.jsx)("div",{className:"text-capitalize",children:Object(n.jsx)("small",{children:r})}),Object(n.jsx)("div",{children:Object(n.jsxs)("small",{children:[Object(n.jsxs)("strong",{children:[s,Object(n.jsx)("sup",{children:I()(x,[a],"")})]}),Object(n.jsxs)("span",{className:"ml-2",children:[l,Object(n.jsx)("sup",{children:I()(x,[a],"")})]})]})})]},t)}))})]})})},J=function(e){var t=e.latitude,a=e.longitude,i=e.unit,r=Object(c.useState)({loading:!0,error:null,currentData:{},forcastData:{}}),s=Object(o.a)(r,2),d=s[0],u=s[1];Object(c.useEffect)((function(){function e(){return(e=Object(y.a)(N.a.mark((function e(){var n,c,r,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([V("".concat(h,"/weather?lat=").concat(t,"&lon=").concat(a,"&appid=").concat(p,"&units=").concat(i)),V("".concat(h,"/onecall?lat=").concat(t,"&lon=").concat(a,"&appid=").concat(p,"&units=").concat(i,"&exclude=minutely,hourly,alerts"))]);case 3:n=e.sent,c=Object(o.a)(n,2),r=c[0],s=c[1],u(Object(l.a)(Object(l.a)({},d),{},{loading:!1,currentData:r,forcastData:s})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),u(Object(l.a)(Object(l.a)({},d),{},{loading:!1,error:"Weather report is currently not avaliable !"}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}u(Object(l.a)(Object(l.a)({},d),{},{loading:!0})),function(){e.apply(this,arguments)}()}),[t,a,i]);var j=d.loading,b=d.error,O=d.currentData,x=d.forcastData;return j?Object(n.jsx)(A,{}):b?Object(n.jsx)("div",{className:"alert alert-danger mt-4",children:b}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(W,{data:O,unit:i}),Object(n.jsx)(H,{data:I()(x,"daily",[]),unit:i})]})},T=a(80),A=function(e){var t=e.containerClassName,a=e.animation,c=e.variant;return Object(n.jsx)("div",{className:t,children:Object(n.jsx)(T.a,{animation:a,variant:c})})};A.defaultProps={containerClassName:"mt-4 text-center",animation:"border",variant:"info"};a(155);var E=a(58),Q=Object(E.b)(E.a),Y=function(e){var t=e.setCoordinates,a=e.initialValues,i=Object(c.useState)({loading:!1,options:[]}),r=Object(o.a)(i,2),s=r[0],d=r[1],u=function(){var e=Object(y.a)(N.a.mark((function e(t){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(Object(l.a)(Object(l.a)({},s),{},{loading:!1})),e.next=4,V("".concat("https://api.mapbox.com/geocoding/v5/mapbox.places","/").concat(t,".json?access_token=").concat("pk.eyJ1IjoieXV2YXJhanV2IiwiYSI6ImNraHhyaDBtYjAzNnIydW9hNmxrNzkyZHcifQ.eQCQSd6vcSwTi84j3iImsg"));case 4:a=e.sent,n=I()(a,"features",[]).map((function(e){var t=I()(e,"place_name"),a=I()(e,["center","0"]),n=I()(e,["center","1"]);return{id:n,placeName:t,latitude:n,longitude:a}})),console.log(n),d({loading:!1,options:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),d({loading:!1,options:[]});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),j=s.loading,b=s.options;return Object(n.jsx)("div",{children:Object(n.jsx)(Q,{onChange:function(e){t(I()(e,["0","latitude"],a.latitude),I()(e,["0","longitude"],a.longitude))},isLoading:j,labelKey:function(e){return"".concat(e.placeName)},onSearch:u,options:b,align:"left",emptyLabel:"No city found",id:"search",placeholder:"Search city",className:"searchBox"})})},K=function(){var e=Object(c.useState)({loading:!0,latitude:null,longitude:null,unit:"standard",initialValues:{latitude:null,longitude:null}}),t=Object(o.a)(e,2),a=t[0],i=t[1];Object(c.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){i(Object(l.a)(Object(l.a)({},a),{},{latitude:e.coords.latitude,longitude:e.coords.longitude,loading:!1,initialValues:{latitude:e.coords.latitude,longitude:e.coords.longitude}}))}),(function(e){i(Object(l.a)(Object(l.a)({},a),{},{latitude:g,longitude:f,loading:!1,initialValues:{latitude:g,longitude:f}}))}),{enableHighAccuracy:!0,timeout:5e3})}),[]);var r=a.loading,s=a.latitude,u=a.longitude,j=a.unit,b=a.initialValues;return r?Object(n.jsx)(A,{}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(v,{unit:j,setUnit:function(e){i(Object(l.a)(Object(l.a)({},a),{},{unit:e}))},setCoordinates:function(e,t){i(Object(l.a)(Object(l.a)({},a),{},{latitude:e,longitude:t}))},initialValues:b}),Object(n.jsx)(d.a,{fluid:!0,children:Object(n.jsx)(J,{latitude:s,longitude:u,unit:j})})]})};var U=function(){return Object(n.jsx)(K,{})},X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,185)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(U,{})}),document.getElementById("root")),X()},89:function(e,t,a){}},[[173,1,2]]]);
//# sourceMappingURL=main.6a9db41a.chunk.js.map