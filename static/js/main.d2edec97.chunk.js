(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{155:function(t,e,a){},173:function(t,e,a){"use strict";a.r(e);var n=a(3),c=a(0),i=a.n(c),r=a(22),s=a.n(r),l=(a(89),a(12)),o=a(26),d=a(83),u=a(182),j=a(183),b=a(181),h="https://api.openweathermap.org/data/2.5",p="fa47458e6c6542be6687757543906375",O=["standard","metric","imperial"],m={standard:"\xb0K",metric:"\xb0C",imperial:"\xb0F"},x={standard:"meter/sec",metric:"meter/sec",imperial:"miles/hour"},g=13.0827,f=80.2707,v=function(t){var e=t.unit,a=t.setUnit,c=t.setCoordinates,i=t.initialValues;return Object(n.jsxs)(u.a,{bg:"info",variant:"dark",expand:"lg",children:[Object(n.jsx)(u.a.Brand,{className:"text-white",children:"Weather App"}),Object(n.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsxs)(u.a.Collapse,{id:"basic-navbar-nav",children:[Object(n.jsx)(j.a,{className:"mr-auto",children:Object(n.jsx)(b.a,{title:e,className:"text-capitalize",children:O.map((function(t){return Object(n.jsx)(b.a.Item,{active:t===e,onClick:function(){a(t)},children:t},t)}))})}),Object(n.jsx)(Y,{setCoordinates:c,initialValues:i})]})]})},w=a(24),y=a.n(w),N=a(33),C=a(11),I=a.n(C),k=a(79),S=a.n(k);function V(t){return D.apply(this,arguments)}function D(){return(D=Object(N.a)(y.a.mark((function t(e){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S.a.get(e).then((function(t){return t.data}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var F=a(47),L=a.n(F),P=a(179),z=a(180),W=function(t){var e=t.data,a=t.unit,c=I()(e,"name"),i=I()(e,"dt"),r=I()(e,["weather","0"],{}),s=I()(r,"description"),l=I()(r,"icon"),o=I()(e,["main","temp"],"-"),d=I()(e,["main","pressure"],"-"),u=I()(e,["main","humidity"],"-"),j=I()(e,["wind","speed"],"-");return Object(n.jsxs)(P.a,{className:"weatherCard mt-4",children:[Object(n.jsxs)(z.a,{xs:12,md:12,children:[Object(n.jsx)("h1",{children:c}),Object(n.jsx)("div",{children:Object(n.jsx)("small",{children:L()(1e3*i).format("LLL")})}),Object(n.jsx)("div",{className:"text-capitalize",children:s})]}),Object(n.jsx)(z.a,{xs:12,md:6,children:Object(n.jsxs)("div",{className:"d-flex",children:[l&&Object(n.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(l,"@2x.png"),alt:"Weather Icon"}),Object(n.jsxs)("h3",{className:"align-self-center",children:[o,Object(n.jsx)("sup",{children:I()(m,[a],"")})]})]})}),Object(n.jsxs)(z.a,{xs:12,md:6,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:"Pressure: ".concat(d," ")}),Object(n.jsx)("small",{children:"hPa"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:"Humidity: ".concat(u," ")}),Object(n.jsx)("small",{children:"%"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:"Wind Speed: ".concat(j," ")}),Object(n.jsx)("small",{children:I()(x,[a],"")})]})]})]})},B=a(184),H=function(t){var e=t.data,a=t.unit;return Object(n.jsx)(P.a,{children:Object(n.jsxs)(z.a,{children:[Object(n.jsx)("hr",{}),Object(n.jsx)(B.a,{horizontal:"lg",children:e.map((function(t){var e=I()(t,"dt"),c=I()(t,["weather","0"],{}),i=I()(c,"icon"),r=I()(c,"description"),s=I()(t,["temp","max"],"-"),l=I()(t,["temp","min"],"-");return Object(n.jsxs)(B.a.Item,{className:"listItem",children:[Object(n.jsx)("div",{children:L()(1e3*e).format("dddd")}),i&&Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"https://openweathermap.org/img/wn/".concat(i,"@2x.png"),alt:"Weather Icon"})}),Object(n.jsx)("div",{className:"text-capitalize",children:Object(n.jsx)("small",{children:r})}),Object(n.jsx)("div",{children:Object(n.jsxs)("small",{children:[Object(n.jsxs)("strong",{children:[s,Object(n.jsx)("sup",{children:I()(m,[a],"")})]}),Object(n.jsxs)("span",{className:"ml-2",children:[l,Object(n.jsx)("sup",{children:I()(m,[a],"")})]})]})})]},e)}))})]})})},J=function(t){var e=t.latitude,a=t.longitude,i=t.unit,r=Object(c.useState)({loading:!0,error:null,currentData:{},forcastData:{}}),s=Object(o.a)(r,2),d=s[0],u=s[1];Object(c.useEffect)((function(){function t(){return(t=Object(N.a)(y.a.mark((function t(){var n,c,r,s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([V("".concat(h,"/weather?lat=").concat(e,"&lon=").concat(a,"&appid=").concat(p,"&units=").concat(i)),V("".concat(h,"/onecall?lat=").concat(e,"&lon=").concat(a,"&appid=").concat(p,"&units=").concat(i,"&exclude=minutely,hourly,alerts"))]);case 3:n=t.sent,c=Object(o.a)(n,2),r=c[0],s=c[1],u(Object(l.a)(Object(l.a)({},d),{},{loading:!1,currentData:r,forcastData:s})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),u(Object(l.a)(Object(l.a)({},d),{},{loading:!1,error:"Weather report is currently not avaliable !"}));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}u(Object(l.a)(Object(l.a)({},d),{},{loading:!0})),function(){t.apply(this,arguments)}()}),[e,a,i]);var j=d.loading,b=d.error,O=d.currentData,m=d.forcastData;return j?Object(n.jsx)(A,{}):b?Object(n.jsx)("div",{className:"alert alert-danger mt-4",children:b}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(W,{data:O,unit:i}),Object(n.jsx)(H,{data:I()(m,"daily",[]),unit:i})]})},T=a(80),A=function(t){var e=t.containerClassName,a=t.animation,c=t.variant;return Object(n.jsx)("div",{className:e,children:Object(n.jsx)(T.a,{animation:a,variant:c})})};A.defaultProps={containerClassName:"mt-4 text-center",animation:"border",variant:"info"};a(155);var E=a(58),Q=Object(E.b)(E.a),Y=function(t){var e=t.setCoordinates,a=t.initialValues,i=Object(c.useState)({loading:!1,options:[]}),r=Object(o.a)(i,2),s=r[0],d=r[1],u=function(){var t=Object(N.a)(y.a.mark((function t(e){var a,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,d(Object(l.a)(Object(l.a)({},s),{},{loading:!1})),t.next=4,V("".concat("https://api.mapbox.com/geocoding/v5/mapbox.places","/").concat(e,".json?access_token=").concat("pk.eyJ1IjoieXV2YXJhanV2IiwiYSI6ImNraHhyaDBtYjAzNnIydW9hNmxrNzkyZHcifQ.eQCQSd6vcSwTi84j3iImsg"));case 4:a=t.sent,n=I()(a,"features",[]).map((function(t){var e=I()(t,"place_name"),a=I()(t,["geometry","coordinates","0"],null);return{id:a,placeName:e,latitude:a,longitude:I()(t,["geometry","coordinates","1"],null)}})),d({loading:!1,options:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),d({loading:!1,options:[]});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),j=s.loading,b=s.options;return Object(n.jsx)("div",{children:Object(n.jsx)(Q,{onChange:function(t){e(I()(t,["0","latitude"],a.latitude),I()(t,["0","longitude"],a.longitude))},isLoading:j,labelKey:function(t){return"".concat(t.placeName)},onSearch:u,options:b,align:"left",emptyLabel:"No city found",id:"search",placeholder:"Search city",className:"searchBox"})})},K=function(){var t=Object(c.useState)({loading:!0,latitude:null,longitude:null,unit:"standard",initialValues:{latitude:null,longitude:null}}),e=Object(o.a)(t,2),a=e[0],i=e[1];Object(c.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(t){i(Object(l.a)(Object(l.a)({},a),{},{latitude:t.coords.latitude,longitude:t.coords.longitude,loading:!1,initialValues:{latitude:t.coords.latitude,longitude:t.coords.longitude}}))}),(function(t){i(Object(l.a)(Object(l.a)({},a),{},{latitude:g,longitude:f,loading:!1,initialValues:{latitude:g,longitude:f}}))}),{enableHighAccuracy:!0,timeout:5e3})}),[]);var r=a.loading,s=a.latitude,u=a.longitude,j=a.unit,b=a.initialValues;return r?Object(n.jsx)(A,{}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(v,{unit:j,setUnit:function(t){i(Object(l.a)(Object(l.a)({},a),{},{unit:t}))},setCoordinates:function(t,e){i(Object(l.a)(Object(l.a)({},a),{},{latitude:t,longitude:e}))},initialValues:b}),Object(n.jsx)(d.a,{fluid:!0,children:Object(n.jsx)(J,{latitude:s,longitude:u,unit:j})})]})};var U=function(){return Object(n.jsx)(K,{})},X=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,185)).then((function(e){var a=e.getCLS,n=e.getFID,c=e.getFCP,i=e.getLCP,r=e.getTTFB;a(t),n(t),c(t),i(t),r(t)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(U,{})}),document.getElementById("root")),X()},89:function(t,e,a){}},[[173,1,2]]]);
//# sourceMappingURL=main.d2edec97.chunk.js.map